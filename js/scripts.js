"use strict";!function(){var e={homePage:document.querySelector("[data-home]"),libraryPage:document.querySelector("[data-library]"),iconButton:document.querySelector("[data-icon]")},t=e.homePage,n=e.libraryPage,i=e.iconButton;function a(){t.classList.contains("current")||(t.classList.add("current"),n.classList.contains("current")&&n.classList.remove("current"))}t.addEventListener("click",a),i.addEventListener("click",a),n.addEventListener("click",function(){n.classList.contains("current")||(n.classList.add("current"),t.classList.contains("current")&&t.classList.remove("current"))})}();var load=document.querySelector(".loader");function loaderShow(){load.classList.remove("is-hidden")}function loaderHide(){load.classList.add("is-hidden")}var preloader=document.getElementById("load");function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}window.addEventListener("load",function(){setTimeout(function(){setTimeout(function(){parallaxWidthCheck()},3e3),preloader.classList.add("done")},1e3)});var firebaseConfig={apiKey:"AIzaSyBNIAhHTVSS_FgmrIA50_fMlsJIzrHPLUw",authDomain:"filmgeek-js.firebaseapp.com",projectId:"filmgeek-js",storageBucket:"filmgeek-js.appspot.com",messagingSenderId:"759026227062",appId:"1:759026227062:web:451d5ef97d20e7288acc57",measurementId:"G-9HJTT3B2GK"},SIGN_UP_SUCCESS="Congratulations! You made the right choice!!!",SIGN_IN_SUCCESS="Perfect! You are on Board!!!",SIGN_IN_FAIL="Oops!Something went wrong!Try again!!!",DEMAND_TO_REGISTER="To be able to use all features of our Magic source, please pass the registration!",DEFAULT_SIGN_UP="Become a part of our filmgeek club!",DEFAULT_SIGN_IN="Welcome back! Write your data below!";firebase.initializeApp(firebaseConfig),firebase.analytics();var userStatus,auth=firebase.auth();function modalClose(e){authBackdrop.classList.add("auth__backdrop--hidden"),body.classList.remove("overflow")}auth.onAuthStateChanged(function(e){userStatus=e?(btnSignOut.classList.remove("is-hidden"),btnSignUp.classList.add("is-hidden"),btnSignIn.classList.add("is-hidden"),btnSignIn.disabled=!0):(btnSignOut.classList.add("is-hidden"),btnSignUp.classList.remove("is-hidden"),btnSignIn.classList.remove("is-hidden"),btnSignIn.disabled=!1)}),function(e){var t=document.querySelectorAll(".auth__exit");_toConsumableArray(t).forEach(function(e){e.addEventListener("click",modalClose)})}();var authBackdrop=document.querySelector(".auth__backdrop"),authModalSignIn=document.querySelector(".signIn__modal"),authModalSignUp=document.querySelector(".signUp__modal"),signUpEmail=document.getElementById("authEmail"),signUpPassword=document.getElementById("authPassword"),signUpBtn=document.getElementById("signUp-submit"),authMessage=document.querySelector(".auth__message"),signInEmail=document.getElementById("signInEmail"),signInPassword=document.getElementById("signInPassword"),signInBtn=document.getElementById("signIn-submit"),btnSignIn=document.querySelector(".signIn-user"),btnSignUp=document.querySelector(".signUp-user"),btnSignOut=document.querySelector(".signOut-user");function signUp(e){body.classList.remove("overflow");var t=auth.createUserWithEmailAndPassword(signUpEmail.value,signUpPassword.value),n="";t.catch(function(e){n=e.message}),setTimeout(function(){n?welcomeTextSignUp.textContent=SIGN_IN_FAIL:(welcomeTextSignUp.textContent=SIGN_UP_SUCCESS,setTimeout(function(){authBackdrop.classList.add("auth__backdrop--hidden")},2e3))},1e3)}function signIn(e){body.classList.remove("overflow");var t=auth.signInWithEmailAndPassword(signInEmail.value,signInPassword.value),n="";t.catch(function(e){n=e.message}),setTimeout(function(){n?welcomeTextSignIn.textContent=SIGN_IN_FAIL:(welcomeTextSignIn.textContent=SIGN_IN_SUCCESS,setTimeout(function(){authBackdrop.classList.add("auth__backdrop--hidden")},2e3))},1e3)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}btnSignOut.addEventListener("click",function(){auth.signOut()}),btnSignIn.addEventListener("click",function(){body.classList.add("overflow"),authModalSignIn.classList.remove("signIn-hidden"),authModalSignUp.classList.add("signUp-hidden"),authBackdrop.classList.remove("auth__backdrop--hidden"),welcomeTextSignIn.textContent=DEFAULT_SIGN_IN}),authMessage.addEventListener("click",function(){authModalSignIn.classList.remove("signIn-hidden"),authModalSignUp.classList.add("signUp-hidden"),welcomeTextSignIn.textContent=DEFAULT_SIGN_IN}),btnSignUp.addEventListener("click",function(){body.classList.add("overflow"),authModalSignUp.classList.remove("signUp-hidden"),authModalSignIn.classList.add("signIn-hidden"),authBackdrop.classList.remove("auth__backdrop--hidden"),welcomeTextSignUp.textContent=DEFAULT_SIGN_UP}),signUpBtn.addEventListener("click",signUp),signInBtn.addEventListener("click",signIn);var tns=function(){var e=window,Ei=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||function(e){return setTimeout(e,16)},t=window,Mi=t.cancelAnimationFrame||t.mozCancelAnimationFrame||function(e){clearTimeout(e)};function xi(){for(var e,t,n,i=arguments[0]||{},a=1,r=arguments.length;a<r;a++)if(null!==(e=arguments[a]))for(t in e)i!==(n=e[t])&&void 0!==n&&(i[t]=n);return i}function ki(e){return 0<=["true","false"].indexOf(e)?JSON.parse(e):e}function Ii(e,t,n,i){if(i)try{e.setItem(t,n)}catch(e){}return n}function Bi(){var e=document,t=e.body;return t||((t=e.createElement("body")).fake=!0),t}var n=document.documentElement;function Ri(e){var t="";return e.fake&&(t=n.style.overflow,e.style.background="",e.style.overflow=n.style.overflow="hidden",n.appendChild(e)),t}function Pi(e,t){e.fake&&(e.remove(),n.style.overflow=t,n.offsetHeight)}function Hi(e,t,n,i){"insertRule"in e?e.insertRule(t+"{"+n+"}",i):e.addRule(t,n,i)}function qi(e){return("insertRule"in e?e.cssRules:e.rules).length}function Fi(e,t,n){for(var i=0,a=e.length;i<a;i++)t.call(n,e[i],i)}var i="classList"in document.createElement("_"),Wi=i?function(e,t){return e.classList.contains(t)}:function(e,t){return 0<=e.className.indexOf(t)},Ni=i?function(e,t){Wi(e,t)||e.classList.add(t)}:function(e,t){Wi(e,t)||(e.className+=" "+t)},Ui=i?function(e,t){Wi(e,t)&&e.classList.remove(t)}:function(e,t){Wi(e,t)&&(e.className=e.className.replace(t,""))};function Di(e,t){return e.hasAttribute(t)}function Oi(e,t){return e.getAttribute(t)}function r(e){return void 0!==e.item}function Gi(e,t){if(e=r(e)||e instanceof Array?e:[e],"[object Object]"===Object.prototype.toString.call(t))for(var n=e.length;n--;)for(var i in t)e[n].setAttribute(i,t[i])}function zi(e,t){e=r(e)||e instanceof Array?e:[e];for(var n=(t=t instanceof Array?t:[t]).length,i=e.length;i--;)for(var a=n;a--;)e[i].removeAttribute(t[a])}function ji(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push(e[n]);return t}function Qi(e,t){"none"!==e.style.display&&(e.style.display="none")}function Yi(e,t){"none"===e.style.display&&(e.style.display="")}function Ki(e){return"none"!==window.getComputedStyle(e).display}function Xi(t){if("string"==typeof t){var n=[t],i=t.charAt(0).toUpperCase()+t.substr(1);["Webkit","Moz","ms","O"].forEach(function(e){"ms"===e&&"transform"!==t||n.push(e+i)}),t=n}for(var e=document.createElement("fakeelement"),a=(t.length,0);a<t.length;a++){var r=t[a];if(void 0!==e.style[r])return r}return!1}function Vi(e,t){var n=!1;return/^Webkit/.test(e)?n="webkit"+t+"End":/^O/.test(e)?n="o"+t+"End":e&&(n=t.toLowerCase()+"end"),n}var a=!1;try{var o=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,o)}catch(e){}var s=!!a&&{passive:!0};function Ji(e,t,n){for(var i in t){var a=0<=["touchstart","touchmove"].indexOf(i)&&!n&&s;e.addEventListener(i,t[i],a)}}function Zi(e,t){for(var n in t){var i=0<=["touchstart","touchmove"].indexOf(n)&&s;e.removeEventListener(n,t[n],i)}}function $i(){return{topics:{},on:function(e,t){this.topics[e]=this.topics[e]||[],this.topics[e].push(t)},off:function(e,t){if(this.topics[e])for(var n=0;n<this.topics[e].length;n++)if(this.topics[e][n]===t){this.topics[e].splice(n,1);break}},emit:function(t,n){n.type=t,this.topics[t]&&this.topics[t].forEach(function(e){e(n,t)})}}}Object.keys||(Object.keys=function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}),"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});var c=function e(I){I=xi({container:".my-slider",mode:"carousel",axis:"horizontal",items:3,gutter:0,edgePadding:0,fixedWidth:!1,autoWidth:!1,viewportMax:!1,slideBy:2,center:!1,controls:!1,controlsPosition:"bottom",controlsText:["prev","next"],controlsContainer:!1,prevButton:!1,nextButton:!1,nav:!0,navPosition:"top",navContainer:!1,navAsThumbnails:!1,arrowKeys:!0,speed:1e3,autoplay:!0,autoplayPosition:"top",autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],autoplayHoverPause:!1,autoplayButton:!1,autoplayButtonOutput:!1,autoplayResetOnVisibility:!0,animateIn:"tns-fadeIn",animateOut:"tns-fadeOut",animateNormal:"tns-normal",animateDelay:!1,loop:!0,rewind:!1,autoHeight:!1,responsive:!1,lazyload:!1,lazyloadSelector:".tns-lazy-img",touch:!0,mouseDrag:!0,swipeAngle:15,nested:!1,preventActionWhenRunning:!1,preventScrollOnTouch:!1,freezable:!0,onInit:!1,useLocalStorage:!0,nonce:!1},I||{});var B=document,v=window,a={ENTER:13,SPACE:32,LEFT:37,RIGHT:39},t={},n=I.useLocalStorage;if(n){var i=navigator.userAgent,r=new Date;try{(t=v.localStorage)?(t.setItem(r,r),n=t.getItem(r)==r,t.removeItem(r)):n=!1,n||(t={})}catch(e){n=!1}n&&(t.tnsApp&&t.tnsApp!==i&&["tC","tPL","tMQ","tTf","t3D","tTDu","tTDe","tADu","tADe","tTE","tAE"].forEach(function(e){t.removeItem(e)}),localStorage.tnsApp=i)}var y=t.tC?ki(t.tC):Ii(t,"tC",function(){var e=document,t=Bi(),n=Ri(t),i=e.createElement("div"),a=!1;t.appendChild(i);try{for(var r,o="(10px * 10)",s=["calc"+o,"-moz-calc"+o,"-webkit-calc"+o],c=0;c<3;c++)if(r=s[c],i.style.width=r,100===i.offsetWidth){a=r.replace(o,"");break}}catch(e){}return t.fake?Pi(t,n):i.remove(),a}(),n),g=t.tPL?ki(t.tPL):Ii(t,"tPL",function(){var e,t=document,n=Bi(),i=Ri(n),a=t.createElement("div"),r=t.createElement("div"),o="";a.className="tns-t-subp2",r.className="tns-t-ct";for(var s=0;s<70;s++)o+="<div></div>";return r.innerHTML=o,a.appendChild(r),n.appendChild(a),e=Math.abs(a.getBoundingClientRect().left-r.children[67].getBoundingClientRect().left)<2,n.fake?Pi(n,i):a.remove(),e}(),n),R=t.tMQ?ki(t.tMQ):Ii(t,"tMQ",function(){if(window.matchMedia||window.msMatchMedia)return!0;var e,t=document,n=Bi(),i=Ri(n),a=t.createElement("div"),r=t.createElement("style"),o="@media all and (min-width:1px){.tns-mq-test{position:absolute}}";return r.type="text/css",a.className="tns-mq-test",n.appendChild(r),n.appendChild(a),r.styleSheet?r.styleSheet.cssText=o:r.appendChild(t.createTextNode(o)),e=window.getComputedStyle?window.getComputedStyle(a).position:a.currentStyle.position,n.fake?Pi(n,i):a.remove(),"absolute"===e}(),n),o=t.tTf?ki(t.tTf):Ii(t,"tTf",Xi("transform"),n),s=t.t3D?ki(t.t3D):Ii(t,"t3D",function(e){if(!e)return!1;if(!window.getComputedStyle)return!1;var t,n=document,i=Bi(),a=Ri(i),r=n.createElement("p"),o=9<e.length?"-"+e.slice(0,-9).toLowerCase()+"-":"";return o+="transform",i.insertBefore(r,null),r.style[e]="translate3d(1px,1px,1px)",t=window.getComputedStyle(r).getPropertyValue(o),i.fake?Pi(i,a):r.remove(),void 0!==t&&0<t.length&&"none"!==t}(o),n),L=t.tTDu?ki(t.tTDu):Ii(t,"tTDu",Xi("transitionDuration"),n),c=t.tTDe?ki(t.tTDe):Ii(t,"tTDe",Xi("transitionDelay"),n),b=t.tADu?ki(t.tADu):Ii(t,"tADu",Xi("animationDuration"),n),l=t.tADe?ki(t.tADe):Ii(t,"tADe",Xi("animationDelay"),n),d=t.tTE?ki(t.tTE):Ii(t,"tTE",Vi(L,"Transition"),n),u=t.tAE?ki(t.tAE):Ii(t,"tAE",Vi(b,"Animation"),n),f=v.console&&"function"==typeof v.console.warn,m=["container","controlsContainer","prevButton","nextButton","navContainer","autoplayButton"],p={};if(m.forEach(function(e){if("string"==typeof I[e]){var t=I[e],n=B.querySelector(t);if(p[e]=t,!n||!n.nodeName)return void(f&&console.warn("Can't find",I[e]));I[e]=n}}),!(I.container.children.length<1)){var P=I.responsive,H=I.nested,q="carousel"===I.mode;if(P){0 in P&&(I=xi(I,P[0]),delete P[0]);var h={};for(var S in P){var w=P[S];w="number"==typeof w?{items:w}:w,h[S]=w}P=h,h=null}if(q||function e(t){for(var n in t)q||("slideBy"===n&&(t[n]="page"),"edgePadding"===n&&(t[n]=!1),"autoHeight"===n&&(t[n]=!1)),"responsive"===n&&e(t[n])}(I),!q){I.axis="horizontal",I.slideBy="page",I.edgePadding=!1;var F=I.animateIn,W=I.animateOut,C=I.animateDelay,N=I.animateNormal}var _,U,D="horizontal"===I.axis,A=B.createElement("div"),O=B.createElement("div"),G=I.container,T=G.parentNode,E=G.outerHTML,z=G.children,j=z.length,Q=on(),Y=!1;P&&Tn(),q&&(G.className+=" tns-vpfix");var M,x,k,K,X,V,J,Z,$,ee=I.autoWidth,te=dn("fixedWidth"),ne=dn("edgePadding"),ie=dn("gutter"),ae=cn(),re=dn("center"),oe=ee?1:Math.floor(dn("items")),se=dn("slideBy"),ce=I.viewportMax||I.fixedWidthViewportWidth,le=dn("arrowKeys"),de=dn("speed"),ue=I.rewind,fe=!ue&&I.loop,me=dn("autoHeight"),pe=dn("controls"),he=dn("controlsText"),ve=dn("nav"),ye=dn("touch"),ge=dn("mouseDrag"),Le=dn("autoplay"),be=dn("autoplayTimeout"),Se=dn("autoplayText"),we=dn("autoplayHoverPause"),Ce=dn("autoplayResetOnVisibility"),_e=(J=null,Z=dn("nonce"),$=document.createElement("style"),J&&$.setAttribute("media",J),Z&&$.setAttribute("nonce",Z),document.querySelector("head").appendChild($),$.sheet?$.sheet:$.styleSheet),Ae=I.lazyload,Te=I.lazyloadSelector,Ee=[],Me=fe?(X=function(){{if(ee||te&&!ce)return j-1;var e=te?"fixedWidth":"items",t=[];if((te||I[e]<j)&&t.push(I[e]),P)for(var n in P){var i=P[n][e];i&&(te||i<j)&&t.push(i)}return t.length||t.push(0),Math.ceil(te?ce/Math.min.apply(null,t):Math.max.apply(null,t))}}(),V=q?Math.ceil((5*X-j)/2):4*X-j,V=Math.max(X,V),ln("edgePadding")?V+1:V):0,xe=q?j+2*Me:j+Me,ke=!(!te&&!ee||fe),Ie=te?Zn():null,Be=!q||!fe,Re=D?"left":"top",Pe="",He="",qe=te?function(){return re&&!fe?j-1:Math.ceil(-Ie/(te+ie))}:ee?function(){for(var e=0;e<xe;e++)if(M[e]>=-Ie)return e}:function(){return re&&q&&!fe?j-1:fe||q?Math.max(0,xe-Math.ceil(oe)):xe-1},Fe=nn(dn("startIndex")),We=Fe,Ne=(tn(),0),Ue=ee?null:qe(),De=I.preventActionWhenRunning,Oe=I.swipeAngle,Ge=!Oe||"?",ze=!1,je=I.onInit,Qe=new $i,Ye=" tns-slider tns-"+I.mode,Ke=G.id||(K=window.tnsId,window.tnsId=K?K+1:1,"tns"+window.tnsId),Xe=dn("disable"),Ve=!1,Je=I.freezable,Ze=!(!Je||ee)&&An(),$e=!1,et={click:si,keydown:function(e){e=hi(e);var t=[a.LEFT,a.RIGHT].indexOf(e.keyCode);0<=t&&(0===t?wt.disabled||si(e,-1):Ct.disabled||si(e,1))}},tt={click:function(e){if(ze){if(De)return;ri()}var t=vi(e=hi(e));for(;t!==Et&&!Di(t,"data-nav");)t=t.parentNode;if(Di(t,"data-nav")){var n=It=Number(Oi(t,"data-nav")),i=te||ee?n*j/xt:n*oe,a=lt?n:Math.min(Math.ceil(i),j-1);oi(a,e),Bt===n&&(Wt&&fi(),It=-1)}},keydown:function(e){e=hi(e);var t=B.activeElement;if(!Di(t,"data-nav"))return;var n=[a.LEFT,a.RIGHT,a.ENTER,a.SPACE].indexOf(e.keyCode),i=Number(Oi(t,"data-nav"));0<=n&&(0===n?0<i&&pi(Tt[i-1]):1===n?i<xt-1&&pi(Tt[i+1]):oi(It=i,e))}},nt={mouseover:function(){Wt&&(li(),Nt=!0)},mouseout:function(){Nt&&(ci(),Nt=!1)}},it={visibilitychange:function(){B.hidden?Wt&&(li(),Dt=!0):Dt&&(ci(),Dt=!1)}},at={keydown:function(e){e=hi(e);var t=[a.LEFT,a.RIGHT].indexOf(e.keyCode);0<=t&&si(e,0===t?-1:1)}},rt={touchstart:bi,touchmove:Si,touchend:wi,touchcancel:wi},ot={mousedown:bi,mousemove:Si,mouseup:wi,mouseleave:wi},st=ln("controls"),ct=ln("nav"),lt=!!ee||I.navAsThumbnails,dt=ln("autoplay"),ut=ln("touch"),ft=ln("mouseDrag"),mt="tns-slide-active",pt="tns-slide-cloned",ht="tns-complete",vt={load:function(e){Hn(vi(e))},error:function(e){t=vi(e),Ni(t,"failed"),qn(t);var t}},yt="force"===I.preventScrollOnTouch;if(st)var gt,Lt,bt=I.controlsContainer,St=I.controlsContainer?I.controlsContainer.outerHTML:"",wt=I.prevButton,Ct=I.nextButton,_t=I.prevButton?I.prevButton.outerHTML:"",At=I.nextButton?I.nextButton.outerHTML:"";if(ct)var Tt,Et=I.navContainer,Mt=I.navContainer?I.navContainer.outerHTML:"",xt=ee?j:_i(),kt=0,It=-1,Bt=rn(),Rt=Bt,Pt="tns-nav-active",Ht="Carousel Page ",qt=" (Current Slide)";if(dt)var Ft,Wt,Nt,Ut,Dt,Ot="forward"===I.autoplayDirection?1:-1,Gt=I.autoplayButton,zt=I.autoplayButton?I.autoplayButton.outerHTML:"",jt=["<span class='tns-visually-hidden'>"," animation</span>"];if(ut||ft)var Qt,Yt,Kt={},Xt={},Vt=!1,Jt=D?function(e,t){return e.x-t.x}:function(e,t){return e.y-t.y};ee||en(Xe||Ze),o&&(Re=o,Pe="translate",He=s?(Pe+=D?"3d(":"3d(0px, ",D?", 0px, 0px)":", 0px)"):(Pe+=D?"X(":"Y(",")")),q&&(G.className=G.className.replace("tns-vpfix","")),function(){ln("gutter");A.className="tns-outer",O.className="tns-inner",A.id=Ke+"-ow",O.id=Ke+"-iw",""===G.id&&(G.id=Ke);Ye+=g||ee?" tns-subpixel":" tns-no-subpixel",Ye+=y?" tns-calc":" tns-no-calc",ee&&(Ye+=" tns-autowidth");Ye+=" tns-"+I.axis,G.className+=Ye,q?((_=B.createElement("div")).id=Ke+"-mw",_.className="tns-ovh",A.appendChild(_),_.appendChild(O)):A.appendChild(O);if(me){var e=_||O;e.className+=" tns-ah"}if(T.insertBefore(A,G),O.appendChild(G),Fi(z,function(e,t){Ni(e,"tns-item"),e.id||(e.id=Ke+"-item"+t),!q&&N&&Ni(e,N),Gi(e,{"aria-hidden":"true",tabindex:"-1"})}),Me){for(var t=B.createDocumentFragment(),n=B.createDocumentFragment(),i=Me;i--;){var a=i%j,r=z[a].cloneNode(!0);if(Ni(r,pt),zi(r,"id"),n.insertBefore(r,n.firstChild),q){var o=z[j-1-a].cloneNode(!0);Ni(o,pt),zi(o,"id"),t.appendChild(o)}}G.insertBefore(t,G.firstChild),G.appendChild(n),z=G.children}}(),function(){if(!q)for(var e=Fe,t=Fe+Math.min(j,oe);e<t;e++){var n=z[e];n.style.left=100*(e-Fe)/oe+"%",Ni(n,F),Ui(n,N)}D&&(g||ee?(Hi(_e,"#"+Ke+" > .tns-item","font-size:"+v.getComputedStyle(z[0]).fontSize+";",qi(_e)),Hi(_e,"#"+Ke,"font-size:0;",qi(_e))):q&&Fi(z,function(e,t){var n;e.style.marginLeft=(n=t,y?y+"("+100*n+"% / "+xe+")":100*n/xe+"%")}));if(R){if(L){var i=_&&I.autoHeight?vn(I.speed):"";Hi(_e,"#"+Ke+"-mw",i,qi(_e))}i=un(I.edgePadding,I.gutter,I.fixedWidth,I.speed,I.autoHeight),Hi(_e,"#"+Ke+"-iw",i,qi(_e)),q&&(i=D&&!ee?"width:"+fn(I.fixedWidth,I.gutter,I.items)+";":"",L&&(i+=vn(de)),Hi(_e,"#"+Ke,i,qi(_e))),i=D&&!ee?mn(I.fixedWidth,I.gutter,I.items):"",I.gutter&&(i+=pn(I.gutter)),q||(L&&(i+=vn(de)),b&&(i+=yn(de))),i&&Hi(_e,"#"+Ke+" > .tns-item",i,qi(_e))}else{q&&me&&(_.style[L]=de/1e3+"s"),O.style.cssText=un(ne,ie,te,me),q&&D&&!ee&&(G.style.width=fn(te,ie,oe));var i=D&&!ee?mn(te,ie,oe):"";ie&&(i+=pn(ie)),i&&Hi(_e,"#"+Ke+" > .tns-item",i,qi(_e))}if(P&&R)for(var a in P){a=parseInt(a);var r=P[a],i="",o="",s="",c="",l="",d=ee?null:dn("items",a),u=dn("fixedWidth",a),f=dn("speed",a),m=dn("edgePadding",a),p=dn("autoHeight",a),h=dn("gutter",a);L&&_&&dn("autoHeight",a)&&"speed"in r&&(o="#"+Ke+"-mw{"+vn(f)+"}"),("edgePadding"in r||"gutter"in r)&&(s="#"+Ke+"-iw{"+un(m,h,u,f,p)+"}"),q&&D&&!ee&&("fixedWidth"in r||"items"in r||te&&"gutter"in r)&&(c="width:"+fn(u,h,d)+";"),L&&"speed"in r&&(c+=vn(f)),c&&(c="#"+Ke+"{"+c+"}"),("fixedWidth"in r||te&&"gutter"in r||!q&&"items"in r)&&(l+=mn(u,h,d)),"gutter"in r&&(l+=pn(h)),!q&&"speed"in r&&(L&&(l+=vn(f)),b&&(l+=yn(f))),l&&(l="#"+Ke+" > .tns-item{"+l+"}"),(i=o+s+c+l)&&_e.insertRule("@media (min-width: "+a/16+"em) {"+i+"}",_e.cssRules.length)}}(),gn();var Zt=fe?q?function(){var e=Ne,t=Ue;e+=se,t-=se,ne?(e+=1,t-=1):te&&(ae+ie)%(te+ie)&&(t-=1),Me&&(t<Fe?Fe-=j:Fe<e&&(Fe+=j))}:function(){if(Ue<Fe)for(;Ne+j<=Fe;)Fe-=j;else if(Fe<Ne)for(;Fe<=Ue-j;)Fe+=j}:function(){Fe=Math.max(Ne,Math.min(Ue,Fe))},$t=q?function(){var t,n,i,a,e,r,o,s,c,l,d;Vn(G,""),L||!de?(ti(),de&&Ki(G)||ri()):(t=G,n=Re,i=Pe,a=He,e=$n(),r=de,o=ri,s=Math.min(r,10),c=0<=e.indexOf("%")?"%":"px",e=e.replace(c,""),l=Number(t.style[n].replace(i,"").replace(a,"").replace(c,"")),d=(e-l)/r*s,setTimeout(function e(){r-=s,l+=d,t.style[n]=i+l+c+a,0<r?setTimeout(e,s):o()},s)),D||Ci()}:function(){Ee=[];var e={};e[d]=e[u]=ri,Zi(z[We],e),Ji(z[Fe],e),ni(We,F,W,!0),ni(Fe,N,F),d&&u&&de&&Ki(G)||ri()};return{version:"2.9.3",getInfo:Ti,events:Qe,goTo:oi,play:function(){Le&&!Wt&&(ui(),Ut=!1)},pause:function(){Wt&&(fi(),Ut=!0)},isOn:Y,updateSliderHeight:On,refresh:gn,destroy:function(){if(_e.disabled=!0,_e.ownerNode&&_e.ownerNode.remove(),Zi(v,{resize:Cn}),le&&Zi(B,at),bt&&Zi(bt,et),Et&&Zi(Et,tt),Zi(G,nt),Zi(G,it),Gt&&Zi(Gt,{click:mi}),Le&&clearInterval(Ft),q&&d){var e={};e[d]=ri,Zi(G,e)}ye&&Zi(G,rt),ge&&Zi(G,ot);var r=[E,St,_t,At,Mt,zt];for(var t in m.forEach(function(e,t){var n="container"===e?A:I[e];if("object"===_typeof(n)&&n){var i=!!n.previousElementSibling&&n.previousElementSibling,a=n.parentNode;n.outerHTML=r[t],I[e]=i?i.nextElementSibling:a.firstElementChild}}),m=F=W=C=N=D=A=O=G=T=E=z=j=U=Q=ee=te=ne=ie=ae=oe=se=ce=le=de=ue=fe=me=_e=Ae=M=Ee=Me=xe=ke=Ie=Be=Re=Pe=He=qe=Fe=We=Ne=Ue=Oe=Ge=ze=je=Qe=Ye=Ke=Xe=Ve=Je=Ze=$e=et=tt=nt=it=at=rt=ot=st=ct=lt=dt=ut=ft=mt=ht=vt=x=pe=he=bt=St=wt=Ct=gt=Lt=ve=Et=Mt=Tt=xt=kt=It=Bt=Rt=Pt=Ht=qt=Le=be=Ot=Se=we=Gt=zt=Ce=jt=Ft=Wt=Nt=Ut=Dt=Kt=Xt=Qt=Vt=Yt=Jt=ye=ge=null,this)"rebuild"!==t&&(this[t]=null);Y=!1},rebuild:function(){return e(xi(I,p))}}}function en(e){e&&(pe=ve=ye=ge=le=Le=we=Ce=!1)}function tn(){for(var e=q?Fe-Me:Fe;e<0;)e+=j;return e%j+1}function nn(e){return e=e?Math.max(0,Math.min(fe?j-1:j-oe,e)):0,q?e+Me:e}function an(e){for(null==e&&(e=Fe),q&&(e-=Me);e<0;)e+=j;return Math.floor(e%j)}function rn(){var e,t=an();return e=lt?t:te||ee?Math.ceil((t+1)*xt/j-1):Math.floor(t/oe),!fe&&q&&Fe===Ue&&(e=xt-1),e}function on(){return v.innerWidth||B.documentElement.clientWidth||B.body.clientWidth}function sn(e){return"top"===e?"afterbegin":"beforeend"}function cn(){var e=ne?2*ne-ie:0;return function e(t){if(null!=t){var n,i,a=B.createElement("div");return t.appendChild(a),i=(n=a.getBoundingClientRect()).right-n.left,a.remove(),i||e(t.parentNode)}}(T)-e}function ln(e){if(I[e])return!0;if(P)for(var t in P)if(P[t][e])return!0;return!1}function dn(e,t){if(null==t&&(t=Q),"items"===e&&te)return Math.floor((ae+ie)/(te+ie))||1;var n=I[e];if(P)for(var i in P)t>=parseInt(i)&&e in P[i]&&(n=P[i][e]);return"slideBy"===e&&"page"===n&&(n=dn("items")),q||"slideBy"!==e&&"items"!==e||(n=Math.floor(n)),n}function un(e,t,n,i,a){var r="";if(void 0!==e){var o=e;t&&(o-=t),r=D?"margin: 0 "+o+"px 0 "+e+"px;":"margin: "+e+"px 0 "+o+"px 0;"}else if(t&&!n){var s="-"+t+"px";r="margin: 0 "+(D?s+" 0 0":"0 "+s+" 0")+";"}return!q&&a&&L&&i&&(r+=vn(i)),r}function fn(e,t,n){return e?(e+t)*xe+"px":y?y+"("+100*xe+"% / "+n+")":100*xe/n+"%"}function mn(e,t,n){var i;if(e)i=e+t+"px";else{q||(n=Math.floor(n));var a=q?xe:n;i=y?y+"(100% / "+a+")":100/a+"%"}return i="width:"+i,"inner"!==H?i+";":i+" !important;"}function pn(e){var t="";!1!==e&&(t=(D?"padding-":"margin-")+(D?"right":"bottom")+": "+e+"px;");return t}function hn(e,t){var n=e.substring(0,e.length-t).toLowerCase();return n&&(n="-"+n+"-"),n}function vn(e){return hn(L,18)+"transition-duration:"+e/1e3+"s;"}function yn(e){return hn(b,17)+"animation-duration:"+e/1e3+"s;"}function gn(){if(ln("autoHeight")||ee||!D){var e=G.querySelectorAll("img");Fi(e,function(e){var t=e.src;Ae||(t&&t.indexOf("data:image")<0?(e.src="",Ji(e,vt),Ni(e,"loading"),e.src=t):Hn(e))}),Ei(function(){Nn(ji(e),function(){x=!0})}),ln("autoHeight")&&(e=Fn(Fe,Math.min(Fe+oe-1,xe-1))),Ae?Ln():Ei(function(){Nn(ji(e),Ln)})}else q&&ei(),Sn(),wn()}function Ln(){if(ee&&1<j){var i=fe?Fe:j-1;!function e(){var t=z[i].getBoundingClientRect().left,n=z[i-1].getBoundingClientRect().right;Math.abs(t-n)<=1?bn():setTimeout(function(){e()},16)}()}else bn()}function bn(){D&&!ee||(Gn(),ee?(Ie=Zn(),Je&&(Ze=An()),Ue=qe(),en(Xe||Ze)):Ci()),q&&ei(),Sn(),wn()}function Sn(){if(zn(),A.insertAdjacentHTML("afterbegin",'<div class="tns-liveregion tns-visually-hidden" aria-live="polite" aria-atomic="true">slide <span class="current">'+Bn()+"</span>  of "+j+"</div>"),k=A.querySelector(".tns-liveregion .current"),dt){var e=Le?"stop":"start";Gt?Gi(Gt,{"data-action":e}):I.autoplayButtonOutput&&(A.insertAdjacentHTML(sn(I.autoplayPosition),'<button type="button" data-action="'+e+'">'+jt[0]+e+jt[1]+Se[0]+"</button>"),Gt=A.querySelector("[data-action]")),Gt&&Ji(Gt,{click:mi}),Le&&(ui(),we&&Ji(G,nt),Ce&&Ji(G,it))}if(ct){if(Et)Gi(Et,{"aria-label":"Carousel Pagination"}),Fi(Tt=Et.children,function(e,t){Gi(e,{"data-nav":t,tabindex:"-1","aria-label":Ht+(t+1),"aria-controls":Ke})});else{for(var t="",n=lt?"":'style="display:none"',i=0;i<j;i++)t+='<button type="button" data-nav="'+i+'" tabindex="-1" aria-controls="'+Ke+'" '+n+' aria-label="'+Ht+(i+1)+'"></button>';t='<div class="tns-nav" aria-label="Carousel Pagination">'+t+"</div>",A.insertAdjacentHTML(sn(I.navPosition),t),Et=A.querySelector(".tns-nav"),Tt=Et.children}if(Ai(),L){var a=L.substring(0,L.length-18).toLowerCase(),r="transition: all "+de/1e3+"s";a&&(r="-"+a+"-"+r),Hi(_e,"[aria-controls^="+Ke+"-item]",r,qi(_e))}Gi(Tt[Bt],{"aria-label":Ht+(Bt+1)+qt}),zi(Tt[Bt],"tabindex"),Ni(Tt[Bt],Pt),Ji(Et,tt)}st&&(bt||wt&&Ct||(A.insertAdjacentHTML(sn(I.controlsPosition),'<div class="tns-controls" aria-label="Carousel Navigation" tabindex="0"><button type="button" data-controls="prev" tabindex="-1" aria-controls="'+Ke+'">'+he[0]+'</button><button type="button" data-controls="next" tabindex="-1" aria-controls="'+Ke+'">'+he[1]+"</button></div>"),bt=A.querySelector(".tns-controls")),wt&&Ct||(wt=bt.children[0],Ct=bt.children[1]),I.controlsContainer&&Gi(bt,{"aria-label":"Carousel Navigation",tabindex:"0"}),(I.controlsContainer||I.prevButton&&I.nextButton)&&Gi([wt,Ct],{"aria-controls":Ke,tabindex:"-1"}),(I.controlsContainer||I.prevButton&&I.nextButton)&&(Gi(wt,{"data-controls":"prev"}),Gi(Ct,{"data-controls":"next"})),gt=Qn(wt),Lt=Qn(Ct),Xn(),bt?Ji(bt,et):(Ji(wt,et),Ji(Ct,et))),En()}function wn(){if(q&&d){var e={};e[d]=ri,Ji(G,e)}ye&&Ji(G,rt,I.preventScrollOnTouch),ge&&Ji(G,ot),le&&Ji(B,at),"inner"===H?Qe.on("outerResized",function(){_n(),Qe.emit("innerLoaded",Ti())}):(P||te||ee||me||!D)&&Ji(v,{resize:Cn}),me&&("outer"===H?Qe.on("innerLoaded",Wn):Xe||Wn()),Pn(),Xe?kn():Ze&&xn(),Qe.on("indexChanged",Un),"inner"===H&&Qe.emit("innerLoaded",Ti()),"function"==typeof je&&je(Ti()),Y=!0}function Cn(e){Ei(function(){_n(hi(e))})}function _n(e){if(Y){"outer"===H&&Qe.emit("outerResized",Ti(e)),Q=on();var t,n=U,i=!1;P&&(Tn(),(t=n!==U)&&Qe.emit("newBreakpointStart",Ti(e)));var a,r,o,s,c=oe,l=Xe,d=Ze,u=le,f=pe,m=ve,p=ye,h=ge,v=Le,y=we,g=Ce,L=Fe;if(t){var b=te,S=me,w=he,C=re,_=Se;if(!R)var A=ie,T=ne}if(le=dn("arrowKeys"),pe=dn("controls"),ve=dn("nav"),ye=dn("touch"),re=dn("center"),ge=dn("mouseDrag"),Le=dn("autoplay"),we=dn("autoplayHoverPause"),Ce=dn("autoplayResetOnVisibility"),t&&(Xe=dn("disable"),te=dn("fixedWidth"),de=dn("speed"),me=dn("autoHeight"),he=dn("controlsText"),Se=dn("autoplayText"),be=dn("autoplayTimeout"),R||(ne=dn("edgePadding"),ie=dn("gutter"))),en(Xe),ae=cn(),D&&!ee||Xe||(Gn(),D||(Ci(),i=!0)),(te||ee)&&(Ie=Zn(),Ue=qe()),(t||te)&&(oe=dn("items"),se=dn("slideBy"),(r=oe!==c)&&(te||ee||(Ue=qe()),Zt())),t&&Xe!==l&&(Xe?kn():function(){if(!Ve)return;if(_e.disabled=!1,G.className+=Ye,ei(),fe)for(var e=Me;e--;)q&&Yi(z[e]),Yi(z[xe-e-1]);if(!q)for(var t=Fe,n=Fe+j;t<n;t++){var i=z[t],a=t<Fe+oe?F:N;i.style.left=100*(t-Fe)/oe+"%",Ni(i,a)}Mn(),Ve=!1}()),Je&&(t||te||ee)&&(Ze=An())!==d&&(Ze?(ti($n(nn(0))),xn()):(!function(){if(!$e)return;ne&&R&&(O.style.margin="");if(Me)for(var e="tns-transparent",t=Me;t--;)q&&Ui(z[t],e),Ui(z[xe-t-1],e);Mn(),$e=!1}(),i=!0)),en(Xe||Ze),Le||(we=Ce=!1),le!==u&&(le?Ji(B,at):Zi(B,at)),pe!==f&&(pe?bt?Yi(bt):(wt&&Yi(wt),Ct&&Yi(Ct)):bt?Qi(bt):(wt&&Qi(wt),Ct&&Qi(Ct))),ve!==m&&(ve?(Yi(Et),Ai()):Qi(Et)),ye!==p&&(ye?Ji(G,rt,I.preventScrollOnTouch):Zi(G,rt)),ge!==h&&(ge?Ji(G,ot):Zi(G,ot)),Le!==v&&(Le?(Gt&&Yi(Gt),Wt||Ut||ui()):(Gt&&Qi(Gt),Wt&&fi())),we!==y&&(we?Ji(G,nt):Zi(G,nt)),Ce!==g&&(Ce?Ji(B,it):Zi(B,it)),t){if(te===b&&re===C||(i=!0),me!==S&&(me||(O.style.height="")),pe&&he!==w&&(wt.innerHTML=he[0],Ct.innerHTML=he[1]),Gt&&Se!==_){var E=Le?1:0,M=Gt.innerHTML,x=M.length-_[E].length;M.substring(x)===_[E]&&(Gt.innerHTML=M.substring(0,x)+Se[E])}}else re&&(te||ee)&&(i=!0);if((r||te&&!ee)&&(xt=_i(),Ai()),(a=Fe!==L)?(Qe.emit("indexChanged",Ti()),i=!0):r?a||Un():(te||ee)&&(Pn(),zn(),In()),r&&!q&&function(){for(var e=Fe+Math.min(j,oe),t=xe;t--;){var n=z[t];Fe<=t&&t<e?(Ni(n,"tns-moving"),n.style.left=100*(t-Fe)/oe+"%",Ni(n,F),Ui(n,N)):n.style.left&&(n.style.left="",Ni(n,N),Ui(n,F)),Ui(n,W)}setTimeout(function(){Fi(z,function(e){Ui(e,"tns-moving")})},300)}(),!Xe&&!Ze){if(t&&!R&&(ne===T&&ie===A||(O.style.cssText=un(ne,ie,te,de,me)),D)){q&&(G.style.width=fn(te,ie,oe));var k=mn(te,ie,oe)+pn(ie);s=qi(o=_e)-1,"deleteRule"in o?o.deleteRule(s):o.removeRule(s),Hi(_e,"#"+Ke+" > .tns-item",k,qi(_e))}me&&Wn(),i&&(ei(),We=Fe)}t&&Qe.emit("newBreakpointEnd",Ti(e))}}function An(){if(!te&&!ee)return j<=(re?oe-(oe-1)/2:oe);var e=te?(te+ie)*j:M[j],t=ne?ae+2*ne:ae+ie;return re&&(t-=te?(ae-te)/2:(ae-(M[Fe+1]-M[Fe]-ie))/2),e<=t}function Tn(){for(var e in U=0,P)(e=parseInt(e))<=Q&&(U=e)}function En(){!Le&&Gt&&Qi(Gt),!ve&&Et&&Qi(Et),pe||(bt?Qi(bt):(wt&&Qi(wt),Ct&&Qi(Ct)))}function Mn(){Le&&Gt&&Yi(Gt),ve&&Et&&Yi(Et),pe&&(bt?Yi(bt):(wt&&Yi(wt),Ct&&Yi(Ct)))}function xn(){if(!$e){if(ne&&(O.style.margin="0px"),Me)for(var e="tns-transparent",t=Me;t--;)q&&Ni(z[t],e),Ni(z[xe-t-1],e);En(),$e=!0}}function kn(){if(!Ve){if(_e.disabled=!0,G.className=G.className.replace(Ye.substring(1),""),zi(G,["style"]),fe)for(var e=Me;e--;)q&&Qi(z[e]),Qi(z[xe-e-1]);if(D&&q||zi(O,["style"]),!q)for(var t=Fe,n=Fe+j;t<n;t++){var i=z[t];zi(i,["style"]),Ui(i,F),Ui(i,N)}En(),Ve=!0}}function In(){var e=Bn();k.innerHTML!==e&&(k.innerHTML=e)}function Bn(){var e=Rn(),t=e[0]+1,n=e[1]+1;return t===n?t+"":t+" to "+n}function Rn(e){null==e&&(e=$n());var n,i,a,r=Fe;if(re||ne?(ee||te)&&(i=-(parseFloat(e)+ne),a=i+ae+2*ne):ee&&(i=M[Fe],a=i+ae),ee)M.forEach(function(e,t){t<xe&&((re||ne)&&e<=i+.5&&(r=t),.5<=a-e&&(n=t))});else{if(te){var t=te+ie;n=re||ne?(r=Math.floor(i/t),Math.ceil(a/t-1)):r+Math.ceil(ae/t)-1}else if(re||ne){var o=oe-1;if(n=re?(r-=o/2,Fe+o/2):Fe+o,ne){var s=ne*oe/ae;r-=s,n+=s}r=Math.floor(r),n=Math.ceil(n)}else n=r+oe-1;r=Math.max(r,0),n=Math.min(n,xe-1)}return[r,n]}function Pn(){if(Ae&&!Xe){var e=Rn();e.push(Te),Fn.apply(null,e).forEach(function(e){if(!Wi(e,ht)){var t={};t[d]=function(e){e.stopPropagation()},Ji(e,t),Ji(e,vt),e.src=Oi(e,"data-src");var n=Oi(e,"data-srcset");n&&(e.srcset=n),Ni(e,"loading")}})}}function Hn(e){Ni(e,"loaded"),qn(e)}function qn(e){Ni(e,ht),Ui(e,"loading"),Zi(e,vt)}function Fn(e,t,n){var i=[];for(n||(n="img");e<=t;)Fi(z[e].querySelectorAll(n),function(e){i.push(e)}),e++;return i}function Wn(){var e=Fn.apply(null,Rn());Ei(function(){Nn(e,On)})}function Nn(n,e){return x?e():(n.forEach(function(e,t){!Ae&&e.complete&&qn(e),Wi(e,ht)&&n.splice(t,1)}),n.length?void Ei(function(){Nn(n,e)}):e())}function Un(){Pn(),zn(),In(),Xn(),function(){if(ve&&(Bt=0<=It?It:rn(),It=-1,Bt!==Rt)){var e=Tt[Rt],t=Tt[Bt];Gi(e,{tabindex:"-1","aria-label":Ht+(Rt+1)}),Ui(e,Pt),Gi(t,{"aria-label":Ht+(Bt+1)+qt}),zi(t,"tabindex"),Ni(t,Pt),Rt=Bt}}()}function Dn(e,t){for(var n=[],i=e,a=Math.min(e+t,xe);i<a;i++)n.push(z[i].offsetHeight);return Math.max.apply(null,n)}function On(){var e=me?Dn(Fe,oe):Dn(Me,j),t=_||O;t.style.height!==e&&(t.style.height=e+"px")}function Gn(){M=[0];var n=D?"left":"top",i=D?"right":"bottom",a=z[0].getBoundingClientRect()[n];Fi(z,function(e,t){t&&M.push(e.getBoundingClientRect()[n]-a),t===xe-1&&M.push(e.getBoundingClientRect()[i]-a)})}function zn(){var e=Rn(),n=e[0],i=e[1];Fi(z,function(e,t){n<=t&&t<=i?Di(e,"aria-hidden")&&(zi(e,["aria-hidden","tabindex"]),Ni(e,mt)):Di(e,"aria-hidden")||(Gi(e,{"aria-hidden":"true",tabindex:"-1"}),Ui(e,mt))})}function jn(e){return e.nodeName.toLowerCase()}function Qn(e){return"button"===jn(e)}function Yn(e){return"true"===e.getAttribute("aria-disabled")}function Kn(e,t,n){e?t.disabled=n:t.setAttribute("aria-disabled",n.toString())}function Xn(){if(pe&&!ue&&!fe){var e=gt?wt.disabled:Yn(wt),t=Lt?Ct.disabled:Yn(Ct),n=Fe<=Ne,i=!ue&&Ue<=Fe;n&&!e&&Kn(gt,wt,!0),!n&&e&&Kn(gt,wt,!1),i&&!t&&Kn(Lt,Ct,!0),!i&&t&&Kn(Lt,Ct,!1)}}function Vn(e,t){L&&(e.style[L]=t)}function Jn(e){return null==e&&(e=Fe),ee?(ae-(ne?ie:0)-(M[e+1]-M[e]-ie))/2:te?(ae-te)/2:(oe-1)/2}function Zn(){var e=ae+(ne?ie:0)-(te?(te+ie)*xe:M[xe]);return re&&!fe&&(e=te?-(te+ie)*(xe-1)-Jn():Jn(xe-1)-M[xe-1]),0<e&&(e=0),e}function $n(e){var t;if(null==e&&(e=Fe),D&&!ee)if(te)t=-(te+ie)*e,re&&(t+=Jn());else{var n=o?xe:oe;re&&(e-=Jn()),t=100*-e/n}else t=-M[e],re&&ee&&(t+=Jn());return ke&&(t=Math.max(t,Ie)),t+=!D||ee||te?"px":"%"}function ei(e){Vn(G,"0s"),ti(e)}function ti(e){null==e&&(e=$n()),G.style[Re]=Pe+e+He}function ni(e,t,n,i){var a=e+oe;fe||(a=Math.min(a,xe));for(var r=e;r<a;r++){var o=z[r];i||(o.style.left=100*(r-Fe)/oe+"%"),C&&c&&(o.style[c]=o.style[l]=C*(r-e)/1e3+"s"),Ui(o,t),Ni(o,n),i&&Ee.push(o)}}function ii(e,t){Be&&Zt(),(Fe!==We||t)&&(Qe.emit("indexChanged",Ti()),Qe.emit("transitionStart",Ti()),me&&Wn(),Wt&&e&&0<=["click","keydown"].indexOf(e.type)&&fi(),ze=!0,$t())}function ai(e){return e.toLowerCase().replace(/-/g,"")}function ri(e){if(q||ze){if(Qe.emit("transitionEnd",Ti(e)),!q&&0<Ee.length)for(var t=0;t<Ee.length;t++){var n=Ee[t];n.style.left="",l&&c&&(n.style[l]="",n.style[c]=""),Ui(n,W),Ni(n,N)}if(!e||!q&&e.target.parentNode===G||e.target===G&&ai(e.propertyName)===ai(Re)){if(!Be){var i=Fe;Zt(),Fe!==i&&(Qe.emit("indexChanged",Ti()),ei())}"inner"===H&&Qe.emit("innerLoaded",Ti()),ze=!1,We=Fe}}}function oi(e,t){if(!Ze)if("prev"===e)si(t,-1);else if("next"===e)si(t,1);else{if(ze){if(De)return;ri()}var n=an(),i=0;if("first"===e?i=-n:"last"===e?i=q?j-oe-n:j-1-n:("number"!=typeof e&&(e=parseInt(e)),isNaN(e)||(t||(e=Math.max(0,Math.min(j-1,e))),i=e-n)),!q&&i&&Math.abs(i)<oe){var a=0<i?1:-1;i+=Ne<=Fe+i-j?j*a:2*j*a*-1}Fe+=i,q&&fe&&(Fe<Ne&&(Fe+=j),Ue<Fe&&(Fe-=j)),an(Fe)!==an(We)&&ii(t)}}function si(e,t){if(ze){if(De)return;ri()}var n;if(!t){for(var i=vi(e=hi(e));i!==bt&&[wt,Ct].indexOf(i)<0;)i=i.parentNode;var a=[wt,Ct].indexOf(i);0<=a&&(n=!0,t=0===a?-1:1)}if(ue){if(Fe===Ne&&-1===t)return void oi("last",e);if(Fe===Ue&&1===t)return void oi("first",e)}t&&(Fe+=se*t,ee&&(Fe=Math.floor(Fe)),ii(n||e&&"keydown"===e.type?e:null))}function ci(){Ft=setInterval(function(){si(null,Ot)},be),Wt=!0}function li(){clearInterval(Ft),Wt=!1}function di(e,t){Gi(Gt,{"data-action":e}),Gt.innerHTML=jt[0]+e+jt[1]+t}function ui(){ci(),Gt&&di("stop",Se[1])}function fi(){li(),Gt&&di("start",Se[0])}function mi(){Ut=Wt?(fi(),!0):(ui(),!1)}function pi(e){e.focus()}function hi(e){return yi(e=e||v.event)?e.changedTouches[0]:e}function vi(e){return e.target||v.event.srcElement}function yi(e){return 0<=e.type.indexOf("touch")}function gi(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Li(){return a=Xt.y-Kt.y,r=Xt.x-Kt.x,e=Math.atan2(a,r)*(180/Math.PI),t=Oe,n=!1,i=Math.abs(90-Math.abs(e)),90-t<=i?n="horizontal":i<=t&&(n="vertical"),n===I.axis;var e,t,n,i,a,r}function bi(e){if(ze){if(De)return;ri()}Le&&Wt&&li(),Vt=!0,Yt&&(Mi(Yt),Yt=null);var t=hi(e);Qe.emit(yi(e)?"touchStart":"dragStart",Ti(e)),!yi(e)&&0<=["img","a"].indexOf(jn(vi(e)))&&gi(e),Xt.x=Kt.x=t.clientX,Xt.y=Kt.y=t.clientY,q&&(Qt=parseFloat(G.style[Re].replace(Pe,"")),Vn(G,"0s"))}function Si(e){if(Vt){var t=hi(e);Xt.x=t.clientX,Xt.y=t.clientY,q?Yt||(Yt=Ei(function(){!function e(t){if(!Ge)return void(Vt=!1);Mi(Yt);Vt&&(Yt=Ei(function(){e(t)}));"?"===Ge&&(Ge=Li());if(Ge){!yt&&yi(t)&&(yt=!0);try{t.type&&Qe.emit(yi(t)?"touchMove":"dragMove",Ti(t))}catch(e){}var n=Qt,i=Jt(Xt,Kt);if(!D||te||ee)n+=i,n+="px";else{var a=o?i*oe*100/((ae+ie)*xe):100*i/(ae+ie);n+=a,n+="%"}G.style[Re]=Pe+n+He}}(e)})):("?"===Ge&&(Ge=Li()),Ge&&(yt=!0)),("boolean"!=typeof e.cancelable||e.cancelable)&&yt&&e.preventDefault()}}function wi(i){if(Vt){Yt&&(Mi(Yt),Yt=null),q&&Vn(G,""),Vt=!1;var e=hi(i);Xt.x=e.clientX,Xt.y=e.clientY;var a=Jt(Xt,Kt);if(Math.abs(a)){if(!yi(i)){var n=vi(i);Ji(n,{click:function e(t){gi(t),Zi(n,{click:e})}})}q?Yt=Ei(function(){if(D&&!ee){var e=-a*oe/(ae+ie);e=0<a?Math.floor(e):Math.ceil(e),Fe+=e}else{var t=-(Qt+a);if(t<=0)Fe=Ne;else if(t>=M[xe-1])Fe=Ue;else for(var n=0;n<xe&&t>=M[n];)t>M[Fe=n]&&a<0&&(Fe+=1),n++}ii(i,a),Qe.emit(yi(i)?"touchEnd":"dragEnd",Ti(i))}):Ge&&si(i,0<a?-1:1)}}"auto"===I.preventScrollOnTouch&&(yt=!1),Oe&&(Ge="?"),Le&&!Wt&&ci()}function Ci(){(_||O).style.height=M[Fe+oe]-M[Fe]+"px"}function _i(){var e=te?(te+ie)*j/ae:j/oe;return Math.min(Math.ceil(e),j)}function Ai(){if(ve&&!lt&&xt!==kt){var e=kt,t=xt,n=Yi;for(xt<kt&&(e=xt,t=kt,n=Qi);e<t;)n(Tt[e]),e++;kt=xt}}function Ti(e){return{container:G,slideItems:z,navContainer:Et,navItems:Tt,controlsContainer:bt,hasControls:st,prevButton:wt,nextButton:Ct,items:oe,slideBy:se,cloneCount:Me,slideCount:j,slideCountNew:xe,index:Fe,indexCached:We,displayIndex:tn(),navCurrentIndex:Bt,navCurrentIndexCached:Rt,pages:xt,pagesCached:kt,sheet:_e,isOn:Y,event:e||{}}}f&&console.warn("No slides found in",I.container)};return c},refs={loaderPartOne:document.querySelectorAll(".bars-common"),loaderPartTwo:document.querySelectorAll(".squares-common"),errorNotification:document.querySelector(".main__error-notification"),main:document.querySelector(".main"),detailsSection:document.querySelector(".details-page"),libraryFilrt:document.querySelector(".library-filter"),paginationWrapper:document.querySelector(".pagination"),ulForCards:document.querySelector(".gallery__list"),reviewCard:document.querySelector(".review"),sliderContainer:document.querySelector(".my-slider"),body:document.querySelector(".body"),btnTop:document.querySelector(".main__btn-scroll"),modalBtn:document.querySelector(".backdrop__modal__btn"),backdrop:document.querySelector(".backdrop"),player:document.querySelector("#player"),form:document.querySelector(".main__search-form"),input:document.getElementById("search-form"),searchByMovie:document.getElementById("option-movie"),searchByActor:document.getElementById("option-actor"),selectedOption:document.getElementsByClassName("selected-option"),clearInputBtn:document.querySelector(".search-form__clear"),btnMyLibrary:document.querySelector(".library"),btnHome:document.querySelector("[data-home]"),filmsLibrary:document.querySelector(".js-gallery"),btnWatched:document.querySelector(".btnWatched"),btnQueue:document.querySelector(".btnQueue"),thrillerRef:document.querySelector("[data-thriller]"),comedyRef:document.querySelector("[data-comedy]"),animationRef:document.querySelector("[data-animation]"),actionRef:document.querySelector("[data-action]"),westernRef:document.querySelector("[data-western]"),fantasyRef:document.querySelector("[data-fantasy]"),dramaRef:document.querySelector("[data-drama]"),logoText:document.querySelector("[data-logoText]"),homePage:document.querySelector("[data-home]"),libraryPage:document.querySelector("[data-library]"),layer:document.querySelector(".layer__bg"),title:document.querySelector(".parallax-logo"),title2:document.querySelectorAll(".parallax-item"),decor1:document.querySelector(".decoration-first"),decor2:document.querySelector(".decoration-second"),iconButton:document.querySelector("[data-icon]"),welcomeTextSignIn:document.querySelector(".auth__title.sign-in"),welcomeTextSignUp:document.querySelector(".auth__title.sign-up")},loaderPartOne=refs.loaderPartOne,loaderPartTwo=refs.loaderPartTwo,errorNotification=refs.errorNotification,main=refs.main,detailsSection=refs.detailsSection,libraryFilrt=refs.libraryFilrt,paginationWrapper=refs.paginationWrapper,ulForCards=refs.ulForCards,btnTop=refs.btnTop,modalBtn=refs.modalBtn,backdrop=refs.backdrop,player=refs.player,form=refs.form,btnMyLibrary=refs.btnMyLibrary,filmsLibrary=refs.filmsLibrary,btnWatched=refs.btnWatched,btnQueue=refs.btnQueue,thrillerRef=refs.thrillerRef,comedyRef=refs.comedyRef,actionRef=refs.actionRef,animationRef=refs.animationRef,westernRef=refs.westernRef,fantasyRef=refs.fantasyRef,dramaRef=refs.dramaRef,logoText=refs.logoText,homePage=refs.homePage,libraryPage=refs.libraryPage,layer=refs.layer,title=refs.title,title2=refs.title2,decor1=refs.decor1,decor2=refs.decor2,iconButton=refs.iconButton,reviews=refs.reviews,searchByMovie=refs.searchByMovie,searchByActor=refs.searchByActor,selectedOption=refs.selectedOption,input=refs.input,clearInputBtn=refs.clearInputBtn,reviewCard=refs.reviewCard,sliderContainer=refs.sliderContainer,welcomeTextSignIn=refs.welcomeTextSignIn,welcomeTextSignUp=refs.welcomeTextSignUp,btnHome=refs.btnHome,body=refs.body;function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var MovieApi=function(){function a(e,t,n,i){_classCallCheck(this,a),this.API_KEY=e,this.BASE_URL="https://api.themoviedb.org/3/",this.IMAGE_BASE_URL="https://image.tmdb.org/t/p/",this.DEFAULT_IMAGE="./images/default_backdrop2.jpg",this.DEFAULT_POSTER="./images/default_poster.jpg",this.VIDEO_BASE_URL="https://api.themoviedb.org/3/movie/",this.movieID=0,this.searchMode="popular",this.popularFilmItem=[],this.watchedList=[],this.queueList=[],this.genres=[],this.actors=[],this.actorsId=[],this.dailyBestArr=[],this.currentPage=1,this.params={generalSearchUrl:"search/movie?",searchActorUrl:"search/person?",popularSearchUrl:"movie/popular?",genreSearchUrl:"genre/movie/list?",byGenreSearchUrl:"discover/movie?",query:"",_page:1,lastPage:""},this.pagination={window:5,cardContainer:n,paginationContainer:t,sliderContainer:i},this.imgCards={defaultBackdropImg:"",defaultPosterImg:"",currentSizes:{backdropSize:"",posterSize:""},backdropSizes:{mobile:"w500",tablet:"w500",desktop:"w500"},posterSizes:{mobile:"w342",tablet:"w500",desktop:"w780"}}}return _createClass(a,[{key:"activeLoader",value:function(){this.pagination.paginationContainer.classList.add("is-hidden"),[].concat(_toConsumableArray(loaderPartOne),_toConsumableArray(loaderPartTwo)).map(function(e){e.classList.remove("is-hidden")})}},{key:"hideSlider",value:function(){this.pagination.paginationContainer.classList.remove("is-hidden"),document.querySelector([".hero"]).classList.add("is-hidden")}},{key:"showSlider",value:function(){this.pagination.paginationContainer.classList.remove("is-hidden"),document.querySelector([".hero"]).classList.remove("is-hidden")}},{key:"hideLoader",value:function(){this.pagination.paginationContainer.classList.remove("is-hidden"),[].concat(_toConsumableArray(loaderPartOne),_toConsumableArray(loaderPartTwo)).map(function(e){e.classList.add("is-hidden")})}},{key:"fetchVideoById",value:function(){return fetch("".concat(this.VIDEO_BASE_URL).concat(this.movieID,"/videos?api_key=").concat(this.API_KEY)).then(function(e){return e.json()}).then(function(e){return e}).then(function(e){var t=e.results;return 0===t.length&&onHandleTrailerError(),t[0]}).then(function(e){return e.key})}},{key:"dailyBestMovie",value:function(){var n=this;return fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(this.API_KEY)).then(function(e){return e.json()}).then(function(e){var t=e.results;return n.dailyBestArr=t}).then(function(e){return e.map(function(e){return n.createSliderCard(e,"daily")})}).then(function(e){var t;return(t=n.pagination.sliderContainer).append.apply(t,_toConsumableArray(e)),tns({container:".my-slider",items:3,slideBy:"page",autoplay:!0})()})}},{key:"fetchPopularFilmsList",value:function(){var n=this;return this.searchMode="popular",this.resetGalleryCard(),fetch("".concat(this.BASE_URL).concat(this.params.popularSearchUrl,"api_key=").concat(this.API_KEY,"&language=en-US&page=").concat(this.params._page)).then(function(e){return e.json()}).then(function(e){return n.setRatioButtons(e),e}).then(function(e){var t=e.results;return n.popularFilmItem=t}).then(function(e){return e.map(function(e){return n.createCardFunc(e)})}).then(function(e){var t;(t=n.pagination.cardContainer).append.apply(t,_toConsumableArray(e))}).finally(function(){n.pagination.cardContainer.classList.remove("is-hidden"),n.hideLoader()})}},{key:"fetchFilmsListByGenre",value:function(e){var n=this;return this.searchMode="popular",this.resetGalleryCard(),fetch("".concat(this.BASE_URL).concat(this.params.byGenreSearchUrl,"api_key=").concat(this.API_KEY,"&language=en-US&page=").concat(this.params._page,"&with_genres=").concat(e)).then(function(e){return e.json()}).then(function(e){return n.setRatioButtons(e),e}).then(function(e){var t=e.results;return n.popularFilmItem=t}).then(function(e){return e.map(function(e){return n.createCardFunc(e)})}).then(function(e){var t;return(t=MyApi.pagination.cardContainer).append.apply(t,_toConsumableArray(e))}).finally(function(){n.pagination.cardContainer.classList.remove("is-hidden")})}},{key:"fetchGenres",value:function(){var n=this;return fetch("".concat(this.BASE_URL).concat(this.params.genreSearchUrl,"api_key=").concat(this.API_KEY)).then(function(e){return e.json()}).then(function(e){return n.setRatioButtons(e),e}).then(function(e){var t=e.genres;return n.genres=t}).finally(function(){n.pagination.cardContainer.classList.remove("is-hidden")})}},{key:"fetchReviews",value:function(){var n=this;return fetch("".concat(this.VIDEO_BASE_URL).concat(this.movieID,"/reviews?api_key=").concat(this.API_KEY)).then(function(e){return e.json()}).then(function(e){return e}).then(function(e){var t=e.results;return n.reviews=t.map(function(e){return[e.author_details.name,e.content]}).slice(0,5),n.reviews})}},{key:"fetchActors",value:function(){var t=this;return fetch("".concat(this.BASE_URL,"movie/").concat(this.movieID,"/credits?api_key=").concat(this.API_KEY)).then(function(e){return e.json()}).then(function(e){return e}).then(function(e){return e.cast}).then(function(e){e.forEach(function(e){return t.actors.push(e.name),t.actors})})}},{key:"movieSearch",value:function(){var n=this;return this.searchMode="default",fetch("".concat(this.BASE_URL).concat(this.params.generalSearchUrl,"api_key=").concat(this.API_KEY,"&language=en-US&query=").concat(this.params.query,"&page=").concat(this.params._page)).then(function(e){return e.json()}).then(function(e){return n.setRatioButtons(e),e}).then(function(e){if(0===e.results.length)throw n.fetchPopularFilmsList(),Error("Sorry we dont watch this kind of movies!");return n.resetGalleryCard(),n.setRatioButtons(e),e}).then(function(e){var t=e.results;return n.popularFilmItem=t}).then(function(e){return e.map(function(e){return n.createCardFunc(e)})}).then(function(e){var t;return(t=MyApi.pagination.cardContainer).append.apply(t,_toConsumableArray(e))}).catch(function(e){return n.handlErrors(e)}).finally(function(){n.pagination.cardContainer.classList.remove("is-hidden"),n.hideLoader()})}},{key:"fetchActorsId",value:function(e){var t=this;return fetch("https://api.themoviedb.org/3/search/person?api_key=".concat(this.API_KEY,"&language=en-US&query=").concat(e)).then(function(e){return e.json()}).then(function(e){return e}).then(function(e){if(0===e.results.length)throw t.fetchPopularFilmsList(),Error("Sorry we dont know this actor!");return t.resetGalleryCard(),t.setRatioButtons(e),e}).then(function(e){return e.results}).then(function(e){var t=e.reduce(function(e,t){return e.push(t.id),e},[]).slice(0,1);MyApi.movieSearchByActors(t)}).catch(function(e){return t.handlErrors(e)}).finally(function(){t.hideLoader()})}},{key:"movieSearchByActors",value:function(e){var n=this;return this.searchMode="popular",fetch("".concat(this.BASE_URL,"discover/movie?api_key=").concat(this.API_KEY,"&language=en-US&query=").concat(this.params.query,"&page=").concat(this.params._page,"&with_cast=").concat(e)).then(function(e){return e.json()}).then(function(e){return n.setRatioButtons(e),e}).then(function(e){if(0===e.results.length)throw n.fetchPopularFilmsList(),Error("Sorry we dont know this actor!");return n.resetGalleryCard(),n.setRatioButtons(e),e}).then(function(e){var t=e.results;return n.popularFilmItem=t}).then(function(e){return e.map(function(e){return n.createCardFunc(e)})}).then(function(e){var t;return(t=MyApi.pagination.cardContainer).append.apply(t,_toConsumableArray(e))}).catch(function(e){return n.handlErrors(e)}).finally(function(){n.pagination.cardContainer.classList.remove("is-hidden"),n.hideLoader()})}},{key:"handlErrors",value:function(e){errorNotification.classList.remove("is-hidden"),errorNotification.textContent=e.message||e,setTimeout(function(){errorNotification.classList.add("is-hidden")},3e3)}},{key:"resetGalleryCard",value:function(){this.pagination.cardContainer.innerHTML="",reviewCard.innerHTML=""}},{key:"createSliderCard",value:function(e,t){var n=this,i=e.id,a=document.createElement("div"),r=document.createElement("h2");return r.textContent=e.title,r.classList.add("slider__item-title"),a.append(r),a.classList.add("slider__item"),a.style.backgroundImage="url('".concat(MyApi.IMAGE_BASE_URL).concat(MyApi.imgCards.currentSizes.backdropSize).concat(e.poster_path,"')"),a.addEventListener("click",function(){n.movieID=i,n.pagination.cardContainer.classList.add("is-hidden"),n.hideSlider(),n.activeLoader(),window.scrollTo(0,document.body.children[7].offsetTop),setTimeout(function(){main.classList.add("is-hidden"),n.activeDetailsPage(i,t)},2e3),n.fetchActors(n.movieID)}),a}},{key:"createCardFunc",value:function(e,t){var n=this;main.classList.remove("is-hidden");var i=e.backdrop_path,a=e.title,r=e.id,o=e.vote_average,s=e.release_date,c=i?"".concat(MyApi.IMAGE_BASE_URL).concat(MyApi.imgCards.currentSizes.backdropSize).concat(i):MyApi.imgCards.defaultBackdropImg,l=s?"(".concat(s.slice(0,4),")"):"",d=document.createElement("img");d.setAttribute("src",c),d.classList.add("gallery__item-image"),d.setAttribute("alt",a);var u=document.createElement("div");u.classList.add("movie__image"),u.append(d);var f=document.createElement("p");f.classList.add("movie__title"),f.textContent="".concat(a," ").concat(l);var m=document.createElement("span");m.classList.add("movie__genre"),m.textContent="☆  "+"".concat(o);var p=document.createElement("div");p.classList.add("gallery__card-movie"),p.append(u,f,m);var h=document.createElement("li");return h.classList.add("gallery__list-item"),h.append(p),h.addEventListener("click",function(){n.movieID=r,messageTitle.innerHTML="",n.pagination.cardContainer.classList.add("is-hidden"),n.hideSlider(),n.activeLoader(),window.scrollTo(0,document.body.children[7].offsetTop),setTimeout(function(){n.activeDetailsPage(r,t)},2e3),n.fetchActors(n.movieID)}),h}},{key:"activeDetailsPage",value:function(t,e){var s=this;form.classList.add("is-hidden"),btnTop.classList.add("is-hidden"),main.classList.add("is-hidden"),detailsSection.classList.remove("is-hidden"),this.movieID=t;var n=[];"Queue"===e?n=this.queueList:"Watched"===e?n=this.watchedList:e?"daily"===e&&(n=this.dailyBestArr):n=this.popularFilmItem;var i=n.filter(function(e){if(e.id===t)return e})[0],c=[];i.genre_ids.filter(function(e){var t=!0,n=!1,i=void 0;try{for(var a,r=s.genres[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;if(e===o.id)return c.push(o.name)}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}});var a=c.join(", "),r=document.createElement("td");r.textContent="genre";var o=document.createElement("td");o.textContent=a;var l=document.createElement("tr");l.append(r,o),l.classList.add("details-page__rows");var d=this.actors.slice(0,5).join(", "),u=document.createElement("td");u.textContent="actors";var f=document.createElement("td");f.textContent=d;var m=document.createElement("tr");m.append(u,f),m.classList.add("details-page__rows");var p=document.createElement("td");p.textContent="original title";var h=document.createElement("td");h.textContent=i.original_title;var v=document.createElement("tr");v.classList.add("details-page__rows"),v.append(p,h);var y=document.createElement("td");y.textContent="popularity";var g=document.createElement("td");g.textContent=i.popularity;var L=document.createElement("tr");L.classList.add("details-page__rows"),L.append(y,g);var b=document.createElement("td");b.textContent="vote / votes";var S=document.createElement("span");S.classList.add("rows__vote"),S.textContent=i.vote_average;var w=document.createElement("td");w.textContent="/ ".concat(i.vote_count),S.appendChild(w);var C=document.createElement("tr");C.classList.add("details-page__rows"),C.append(b,S);var _=document.createElement("table");_.classList.add("details-page__table"),_.append(C,L,v,l,m);var A=document.createElement("h2");A.classList.add("details-page__title"),A.textContent=i.title;var T=document.createElement("div");T.append(A,_);var E=document.createElement("div");E.classList.add("details-page__about");var M=document.createElement("h3");M.classList.add("details-page__title","second"),M.textContent="About";var x=document.createElement("span");x.classList.add("material-icons","span-about"),x.textContent="info",M.append(x);var k=document.createElement("p");k.classList.add("details-page__text"),k.textContent=i.overview;var I=document.createElement("h3");I.classList.add("details-page__title","second","reviews-title"),I.textContent="Reviews";var B=document.createElement("span");B.classList.add("material-icons","span-input"),B.textContent="input",I.append(B),this.fetchReviews(),I.addEventListener("click",function(){if(0!==s.reviews.length)if(userStatus){window.scrollTo({top:document.body.children[6].offsetTop,behavior:"smooth"}),detailsSection.classList.add("is-hidden");var e=document.createElement("button");e.classList.add("button__add","button-close","btn-reviews"),e.textContent="X",e.addEventListener("click",function(){detailsSection.classList.remove("is-hidden"),reviewCard.innerHTML="",messageTitle.innerHTML=""}),reviewCard.append(e),s.reviews.map(function(e){""===e[0]&&(e[0]="anonym");var t=document.createElement("h3");t.classList.add("reviews-autor");var n=document.createElement("span");n.classList.add("material-icons","icons-face"),n.textContent="face";var i=document.createElement("p");i.classList.add("reviews-text"),t.textContent=e[0],i.textContent=e[1].split(" ").slice(0,100).join(" ")+"...",reviewCard.append(n,t,i),i.addEventListener("click",function(){i.textContent=e[1]})})}else askingToMakeAuthorization();else I.textContent="Sorry, we do not have any review yet!"}),E.append(M,k,I);var R=document.createElement("button");R.classList.add("button__add","first"),R.setAttribute("type","submite"),R.textContent="add to watched",R.addEventListener("click",function(){userStatus?s.onWatchedClick():askingToMakeAuthorization()});var P=document.createElement("button");P.classList.add("button__add"),P.setAttribute("type","submite"),P.textContent="add to queue",P.addEventListener("click",function(){userStatus?s.onQueueClick():askingToMakeAuthorization()});var H=document.createElement("button");H.classList.add("button__add"),H.setAttribute("type","submite"),H.textContent="watch the trailer",H.addEventListener("click",function(){userStatus?s.onTrailerClick():askingToMakeAuthorization()});var q=document.createElement("div");q.classList.add("details-page__button"),q.append(R,P,H);var F=document.createElement("div");F.classList.add("details-page__description"),F.append(T,E,q);var W=document.createElement("img"),N=i.poster_path?"".concat(MyApi.IMAGE_BASE_URL).concat(MyApi.imgCards.currentSizes.posterSize).concat(i.poster_path):MyApi.DEFAULT_POSTER;W.setAttribute("src",N),W.setAttribute("alt",W.title),W.setAttribute("width","100%"),W.setAttribute("data","poster");var U=document.createElement("a");U.setAttribute("href","#"),U.appendChild(W);var D=document.createElement("button");D.classList.add("button__add","button-close"),D.textContent="X";var O=document.createElement("div");O.classList.add("details-page__foto"),O.append(U,D);var G=document.createElement("div");G.classList.add("container","details-page__film"),G.append(O,F),detailsSection.appendChild(G),this.hideLoader(),btnAddWatched=R,btnAddQueue=P,selectFilm=i,monitorButtonStatusText(),D.addEventListener("click",function(){detailsSection.classList.add("is-hidden"),detailsSection.innerHTML="",reviewCard.innerHTML="",main.classList.remove("is-hidden"),e&&"daily"!==e?"Queue"===e?(libraryFilrt.classList.remove("is-hidden"),drawQueueFilmList()):"Watched"===e&&(libraryFilrt.classList.remove("is-hidden"),drawWatchedFilmList()):(form.classList.remove("is-hidden"),s.pagination.paginationContainer.classList.remove("is-hidden"),s.pagination.cardContainer.classList.remove("is-hidden"),btnTop.classList.remove("is-hidden"),s.showSlider(),s.actors=[])})}},{key:"onTrailerClick",value:function(){openModal(event)}},{key:"onWatchedClick",value:function(){toggleToLocal(filmsWatchedKey)}},{key:"onQueueClick",value:function(){toggleToLocal(filmsQueueKey)}},{key:"setPrevNextButtons",value:function(e){var t=this,n=document.createElement("button"),i=document.createElement("button"),a=document.createElement("button"),r=document.createElement("button");a.textContent=">>",r.textContent="<<",a.classList.add("pagination__turning-btn"),r.classList.add("pagination__turning-btn"),n.textContent="<",n.classList.add("pagination__turning-btn"),i.textContent=">",i.classList.add("pagination__turning-btn"),1===this.page&&(n.classList.add("is-hidden"),r.classList.add("is-hidden"),r.disabled=!0),this.page===e.total_pages&&(i.classList.add("is-hidden"),a.classList.add("is-hidden")),window.innerWidth<400&&this.page<3&&r.classList.add("is-hidden"),this.page<4&&r.classList.add("is-hidden"),e.total_pages<6&&(r.classList.add("is-hidden"),a.classList.add("is-hidden"),i.classList.add("is-hidden")),n.addEventListener("click",function(){t.pagesScroll(),t.decrementPage()}),i.addEventListener("click",function(){t.incrementPage(),t.pagesScroll()}),r.addEventListener("click",function(){t.resetPage(),t.pagesScroll()}),a.addEventListener("click",function(){t.pagesScroll(),t.params._page=t.params.lastPage}),this.pagination.paginationContainer.prepend(r,n),this.pagination.paginationContainer.append(i,a)}},{key:"pagesScroll",value:function(){var e=this;this.activeLoader(),this.resetGalleryCard(),window.scrollTo(0,document.body.children[7].offsetTop),"popular"===this.searchMode?setTimeout(function(){e.fetchPopularFilmsList()},2e3):setTimeout(function(){e.movieSearch()},2e3)}},{key:"setRatioButtons",value:function(e){var t,n=this;window.innerWidth<400&&(this.pagination.window=3);var i=this.params._page-Math.floor(this.pagination.window/2),a=this.params._page+Math.floor(this.pagination.window/2);this.params.lastPage=e.total_pages,this.pagination.paginationContainer.innerHTML="",i<1&&(i=1,a=this.pagination.window),a>e.total_pages&&(i=this.params._page-(this.pagination.window-1),a=e.total_pages,i<1&&(i=1));for(var r=[],o=i;o<=a;o++){var s=document.createElement("button");s.textContent=o,s.classList.add("pagination__btn"),+s.textContent===this.params._page&&s.classList.add("active"),s.addEventListener("click",function(e){n.activeLoader(),window.scrollTo(0,document.body.children[7].clientHeight),n.page=+e.target.textContent,n.currentPage=n.page,n.pagination.cardContainer.innerHTML="","popular"===n.searchMode?setTimeout(function(){n.fetchPopularFilmsList()},2e3):setTimeout(function(){n.movieSearch()},2e3)}),r.push(s)}(t=this.pagination.paginationContainer).append.apply(t,r),"active"===this.loaderStatus&&button.classList.add("is-hidden"),this.setPrevNextButtons(e)}},{key:"incrementPage",value:function(){return this.params._page+=1}},{key:"decrementPage",value:function(){return this.params._page-=1}},{key:"resetPage",value:function(){return this.params._page=1}},{key:"checkBackdropImgSize",value:function(){return 1024<=window.innerWidth?(this.imgCards.currentSizes.backdropSize=this.imgCards.backdropSizes.desktop,void(this.imgCards.defaultBackdropImg=this.DEFAULT_IMAGE)):window.innerWidth<1024?(this.imgCards.currentSizes.backdropSize=this.imgCards.backdropSizes.tablet,void(this.imgCards.defaultBackdropImg=this.DEFAULT_IMAGE)):void 0}},{key:"checkPosterImgSize",value:function(){1200<=window.innerWidth&&(this.imgCards.currentSizes.posterSize=this.imgCards.posterSizes.desktop,this.imgCards.defaultPosterImg="../images/default_poster.jpg"),768<=window.innerWidth&&window.innerWidth<1200&&(this.imgCards.currentSizes.posterSize=this.imgCards.posterSizes.tablet,this.imgCards.defaultPosterImg="../images/default_poster.jpg"),window.innerWidth<768&&(this.imgCards.currentSizes.posterSize=this.imgCards.posterSizes.mobile,this.imgCards.defaultPosterImg="../images/default_poster.jpg")}},{key:"page",get:function(){return this.params._page},set:function(e){return this.params._page=e}}]),a}(),API_KEY="91085a172e1ffb2047d72641d0a91356",MyApi=new MovieApi(API_KEY,paginationWrapper,ulForCards,sliderContainer);function scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}function handleScroll(){var e=document.body.scrollTop,t=document.documentElement.scrollTop;btnTop.style.display=500<e||500<t?"block":"none"}function onHandleTrailerError(){player.src="https://www.youtube.com/embed/Zq_zgig9DqQ?autoplay=1"}function openModal(e){e.preventDefault(),body.classList.add("overflow"),MyApi.fetchVideoById().then(function(e){player.src="https://www.youtube.com/embed/".concat(e,"?autoplay=1")}),backdrop.classList.remove("backdrop--hidden"),window.addEventListener("keydown",onKeybordPress)}function closeModal(){player.src="",backdrop.classList.add("backdrop--hidden"),body.classList.remove("overflow"),window.removeEventListener("keydown",onKeybordPress)}function onKeybordPress(e){"Escape"===e.code&&closeModal()}function onBeckDropCkick(e){"DIV"===e.target.nodeName&&closeModal()}history.scrollRestoration="manual",MyApi.checkBackdropImgSize(),MyApi.checkPosterImgSize(),MyApi.fetchPopularFilmsList(),MyApi.dailyBestMovie(),MyApi.fetchGenres(),btnTop.addEventListener("click",function(){scrollToTop()}),window.onscroll=function(){parallaxCheck(),handleScroll()},backdrop.addEventListener("click",onBeckDropCkick),searchByActor.addEventListener("click",function(){input.placeholder="Which actor you wish?",searchByMovie.classList.remove("selected-option"),searchByActor.classList.add("selected-option")}),searchByMovie.addEventListener("click",function(){input.placeholder="What movie you wish?",searchByMovie.classList.add("selected-option"),searchByActor.classList.remove("selected-option")}),clearInputBtn.addEventListener("click",function(){input.value=""}),form.addEventListener("submit",function(e){e.preventDefault();var t=e.target.elements.query.value;if(""===t.trim())return MyApi.handlErrors("There is no nameless movies!");MyApi.resetGalleryCard(),MyApi.activeLoader(),MyApi.resetPage(),MyApi.searchMode="default",MyApi.params.query=t,setTimeout(function(){searchByActor.classList.contains("selected-option")?MyApi.fetchActorsId(t):MyApi.movieSearch()},3e3)});var btnAddQueue="",btnAddWatched="",selectFilm="";function monitorButtonStatusText(){var e=JSON.parse(localStorage.getItem(filmsQueueKey));null===e?btnAddQueue.textContent="Add to queue":e.find(function(e){return e.id===selectFilm.id})?btnAddQueue.textContent="Delete from queue":btnAddQueue.textContent="Add to queue";var t=JSON.parse(localStorage.getItem(filmsWatchedKey));null===t?btnAddWatched.textContent="Add to watched":t.find(function(e){return e.id===selectFilm.id})?btnAddWatched.textContent="Delete from watched":btnAddWatched.textContent="Add to watched"}function toggleToLocal(e){var t,n=JSON.parse(localStorage.getItem(e));function i(){n.push(selectFilm)}null===n?(n=[],i()):n.find(function(e){return e.id===selectFilm.id})?(t=selectFilm.id,n=n.filter(function(e){return e.id!=t})):i(),0===n.length?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(n)),monitorButtonStatusText()}btnQueue.addEventListener("click",drawQueueFilmList),btnWatched.addEventListener("click",drawWatchedFilmList);var queue="You do not have to queue movies to watch. Add them.",watch="You do not have watched movies. Add them.",filmsQueueKey="filmsQueue",filmsWatchedKey="filmsWatched";function drawQueueFilmList(e){var t=localStorage.getItem(filmsQueueKey,e),n=JSON.parse(t);MyApi.pagination.cardContainer.classList.remove("is-hidden"),MyApi.queueList=n,MyApi.resetGalleryCard(),btnQueue.classList.add("active"),btnWatched.classList.remove("active"),btnWatched.disabled=!1,btnQueue.disabled=!0;null===n||0===n.length?createPlugTitle(queue,filmsLibrary):(messageTitle.innerHTML="",createParseFilms(n,filmsLibrary,"Queue"))}function drawWatchedFilmList(e){var t=localStorage.getItem(filmsWatchedKey,e),n=JSON.parse(t);MyApi.pagination.cardContainer.classList.remove("is-hidden"),MyApi.watchedList=n,MyApi.resetGalleryCard(),btnQueue.classList.remove("active"),btnWatched.classList.add("active"),btnWatched.disabled=!0,btnQueue.disabled=!1;null===n||0===n.length?createPlugTitle(watch,filmsLibrary):(messageTitle.innerHTML="",createParseFilms(n,filmsLibrary,"Watched"))}function createParseFilms(e,n,i){e.forEach(function(e){var t=MyApi.createCardFunc(e,i);return n.append(t),n})}var messageTitle=document.getElementsByClassName("message-title");function createPlugTitle(e,t){return 0===messageTitle.length?((messageTitle=document.createElement("h2")).textContent=e,messageTitle.classList.add("message-title"),t.insertAdjacentElement("beforebegin",messageTitle)):messageTitle.textContent=e,t}function openLibrary(){window.scrollTo({top:document.body.children[6].offsetTop,behavior:"smooth"}),MyApi.hideSlider(),MyApi.resetGalleryCard(),btnQueue.disabled=!1,btnWatched.disabled=!1,btnWatched.classList.remove("active"),btnQueue.classList.remove("active"),detailsSection.innerHTML="",paginationWrapper.innerHTML="",form.classList.add("is-hidden"),form.style.display="none",libraryFilrt.classList.remove("is-hidden"),main.classList.remove("is-hidden")}function goHome(){window.scrollTo({top:document.body.children[7].offsetTop,behavior:"smooth"}),MyApi.showSlider(),MyApi.resetGalleryCard(),btnQueue.disabled=!0,btnWatched.disabled=!0,messageTitle.innerHTML="",detailsSection.innerHTML="",paginationWrapper.innerHTML="",libraryFilrt.classList.add("is-hidden"),main.classList.remove("is-hidden"),form.classList.remove("is-hidden"),form.style.display="block",MyApi.fetchPopularFilmsList()}function askingToMakeAuthorization(){welcomeTextSignUp.textContent=DEMAND_TO_REGISTER,authModalSignUp.classList.remove("signUp-hidden"),authModalSignIn.classList.add("signIn-hidden"),authBackdrop.classList.remove("auth__backdrop--hidden")}function handleUserStatusForLibrary(){userStatus?openLibrary():askingToMakeAuthorization()}btnMyLibrary.addEventListener("click",handleUserStatusForLibrary),btnHome.addEventListener("click",goHome),iconButton.addEventListener("click",goHome);var searchGenre="";function drawFilmListByGenre(){var t,n;MyApi.fetchGenres().then(function(e){t=e}).then(function(){return t.forEach(function(e){e.name.toLowerCase()===searchGenre&&(n=e.id)})}).then(function(){MyApi.hideLoader(),MyApi.fetchFilmsListByGenre(n)}).catch(console.log.bind(console))}function classToggle(){document.body.clientWidth<=320?logoText.classList.add("is-hidden"):logoText.classList.remove("is-hidden")}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}thrillerRef.addEventListener("click",function(){MyApi.hideSlider(),MyApi.resetGalleryCard(),MyApi.activeLoader(),MyApi.resetPage(),detailsSection.classList.add("is-hidden"),libraryFilrt.classList.add("is-hidden"),detailsSection.innerHTML="",paginationWrapper.innerHTML="",messageTitle.innerHTML="",searchGenre=thrillerRef.innerHTML.toLowerCase(),thrillerRef.classList.add("current"),comedyRef.classList.remove("current"),animationRef.classList.remove("current"),actionRef.classList.remove("current"),westernRef.classList.remove("current"),fantasyRef.classList.remove("current"),dramaRef.classList.remove("current"),setTimeout(function(){drawFilmListByGenre()},2e3)}),comedyRef.addEventListener("click",function(){MyApi.hideSlider(),MyApi.resetGalleryCard(),MyApi.activeLoader(),MyApi.resetPage(),detailsSection.classList.add("is-hidden"),libraryFilrt.classList.add("is-hidden"),detailsSection.innerHTML="",paginationWrapper.innerHTML="",messageTitle.innerHTML="",searchGenre=comedyRef.innerHTML.toLowerCase(),thrillerRef.classList.remove("current"),comedyRef.classList.add("current"),animationRef.classList.remove("current"),actionRef.classList.remove("current"),westernRef.classList.remove("current"),fantasyRef.classList.remove("current"),dramaRef.classList.remove("current"),setTimeout(function(){drawFilmListByGenre()},2e3)}),actionRef.addEventListener("click",function(){MyApi.hideSlider(),MyApi.resetGalleryCard(),MyApi.activeLoader(),MyApi.resetPage(),detailsSection.classList.add("is-hidden"),libraryFilrt.classList.add("is-hidden"),detailsSection.innerHTML="",paginationWrapper.innerHTML="",messageTitle.innerHTML="",searchGenre=actionRef.innerHTML.toLowerCase(),thrillerRef.classList.remove("current"),comedyRef.classList.remove("current"),animationRef.classList.remove("current"),actionRef.classList.add("current"),westernRef.classList.remove("current"),fantasyRef.classList.remove("current"),dramaRef.classList.remove("current"),setTimeout(function(){drawFilmListByGenre()},2e3)}),animationRef.addEventListener("click",function(){MyApi.hideSlider(),MyApi.resetGalleryCard(),MyApi.activeLoader(),MyApi.resetPage(),detailsSection.classList.add("is-hidden"),libraryFilrt.classList.add("is-hidden"),detailsSection.innerHTML="",paginationWrapper.innerHTML="",messageTitle.innerHTML="",searchGenre=animationRef.innerHTML.toLowerCase(),thrillerRef.classList.remove("current"),comedyRef.classList.remove("current"),animationRef.classList.add("current"),actionRef.classList.remove("current"),westernRef.classList.remove("current"),fantasyRef.classList.remove("current"),dramaRef.classList.remove("current"),setTimeout(function(){drawFilmListByGenre()},2e3)}),westernRef.addEventListener("click",function(){MyApi.hideSlider(),MyApi.resetGalleryCard(),MyApi.activeLoader(),MyApi.resetPage(),detailsSection.classList.add("is-hidden"),libraryFilrt.classList.add("is-hidden"),detailsSection.innerHTML="",paginationWrapper.innerHTML="",messageTitle.innerHTML="",searchGenre=westernRef.innerHTML.toLowerCase(),thrillerRef.classList.remove("current"),comedyRef.classList.remove("current"),animationRef.classList.remove("current"),actionRef.classList.remove("current"),westernRef.classList.add("current"),fantasyRef.classList.remove("current"),dramaRef.classList.remove("current"),setTimeout(function(){drawFilmListByGenre()},2e3)}),fantasyRef.addEventListener("click",function(){MyApi.hideSlider(),MyApi.resetGalleryCard(),MyApi.activeLoader(),MyApi.resetPage(),detailsSection.classList.add("is-hidden"),libraryFilrt.classList.add("is-hidden"),detailsSection.innerHTML="",paginationWrapper.innerHTML="",messageTitle.innerHTML="",searchGenre=fantasyRef.innerHTML.toLowerCase(),thrillerRef.classList.remove("current"),comedyRef.classList.remove("current"),animationRef.classList.remove("current"),actionRef.classList.remove("current"),westernRef.classList.remove("current"),fantasyRef.classList.add("current"),dramaRef.classList.remove("current"),setTimeout(function(){drawFilmListByGenre()},2e3)}),dramaRef.addEventListener("click",function(){MyApi.hideSlider(),MyApi.resetGalleryCard(),MyApi.activeLoader(),MyApi.resetPage(),detailsSection.classList.add("is-hidden"),libraryFilrt.classList.add("is-hidden"),detailsSection.innerHTML="",paginationWrapper.innerHTML="",messageTitle.innerHTML="",searchGenre=dramaRef.innerHTML.toLowerCase(),thrillerRef.classList.remove("current"),comedyRef.classList.remove("current"),animationRef.classList.remove("current"),actionRef.classList.remove("current"),westernRef.classList.remove("current"),fantasyRef.classList.remove("current"),dramaRef.classList.add("current"),setTimeout(function(){drawFilmListByGenre()},2e3)}),classToggle(),window.addEventListener("resize",function(){document.body.clientWidth<=320?logoText.classList.add("is-hidden"):logoText.classList.remove("is-hidden")});var parallax=function(t){var e=layer.getAttribute("data-speed");layer.style.transform="translateX(".concat(t.clientX*e/1300,"px) translateY(").concat(t.clientY*e/1e3,"px)"),title.style.transform="translateX(".concat(40*t.clientX/700,"px) translateY(").concat(40*t.clientY/400,"px)"),decor2.style.transform="translateX(".concat(40*t.clientX/500,"px) translateY(").concat(30*t.clientY/600,"px)"),_toConsumableArray(title2).forEach(function(e){e.style.transform="translateX(".concat(40*t.clientX/600,"px) translateY(").concat(30*t.clientY/500,"px)")}),decor1.style.transform="translateX(".concat(40*t.clientX/350,"px) translateY(").concat(40*t.clientY/700,"px)")},elementScrollTop1=(layer=document.querySelector(".layer__bg"),title=document.querySelector(".parallax-logo"),title2=document.querySelectorAll(".parallax-item"),decor1=document.querySelector(".decoration-first"),decor2=document.querySelector(".decoration-second"),document.documentElement.scrollTop);function parallaxWidthCheck(){1024<=window.innerWidth?document.addEventListener("mousemove",parallax):window.innerWidth<1024&&document.removeEventListener("mousemove",parallax)}function parallaxCheck(){var e=document.body.children[1].clientHeight,t=document.documentElement.scrollTop;e<t?document.removeEventListener("mousemove",parallax):330<t&&t<600&&1024<=window.innerWidth&&document.addEventListener("mousemove",parallax)}